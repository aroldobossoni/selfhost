# Infisical provider for managing secrets
# This provider uses Machine Identity authentication (Universal Auth)
# Credentials are generated by the bootstrap process
# Resources using this provider are conditional and will only be created after bootstrap
provider "infisical" {
  host = var.enable_infisical ? "http://${var.docker_host_ip}:${var.infisical_port}" : "http://localhost:8080"
  
  auth {
    universal {
      client_id     = var.infisical_client_id
      client_secret = var.infisical_client_secret
    }
  }
}
